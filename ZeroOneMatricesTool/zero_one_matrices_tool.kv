<SelfFormattingText>
    color: (0.0, 0.0, 0.0)
    text_size: self.width, None
    halign: 'center'
    valign: 'middle'

<ScreenBoxLayout>
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: (0.95, 0.95, 0.95, 1.0)
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        size_hint: (1, 0.1)
        orientation: 'horizontal'
        Button:
            size_hint: (0.125, 1)
            text: 'Home'
            on_press: app.root.current = 'HomeScreen'
        Widget:
            size_hint: (0.875, 1)

<SelectUserScreen>
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (0.95, 0.95, 0.95, 1.0)
            Rectangle:
                pos: self.pos
                size: self.size

        SelfFormattingText:
            text: 'Zero-One Matrices Tool'
            font_size: '25sp'
            size_hint: (1, .25)

        BoxLayout:
            orientation: 'vertical'

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                Spinner:
                    id: user_select_spinner
                    text: 'Select User'
                    values:

                Widget:
                    size_hint: (.25, 1)

            Widget:

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                Button:
                    text: 'login'

                Widget:
                    size_hint: (.25, 1)

            SelfFormattingText:
                text: 'Or:'
                font_size: '20sp'

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)
                Button:
                    text: 'Create User'
                    on_press:
                        app.root.current = 'CreateUserScreen'

                Widget:
                    size_hint: (.25, 1)

        Widget:
            size_hint: (1, 0.25)

<CreateUserScreen>
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (0.95, 0.95, 0.95, 1.0)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint: (1, 0.1)
            orientation: 'horizontal'
            Button:
                size_hint: (0.125, 1)
                text: 'Cancel'
                on_press: app.root.current = 'SelectUserScreen'
            Widget:
                size_hint: (0.875, 1)

        BoxLayout:
            orientation: 'vertical'

            SelfFormattingText:
                text: 'Create User'
                font_size: '25sp'

            SelfFormattingText:
                text: 'Enter Name:'
                font_size: '20sp'

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                UsernameTextInput:
                    id: create_user_text_input
                    multiline: False
                    hint_text: 'Type Here'

                Widget:
                    size_hint: (.25, 1)

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                Button:
                    text: 'Create User'
                    on_press:
                        app.root.current = 'SelectUserScreen'
                        app.create_user()

                Widget:
                    size_hint: (.25, 1)

            Widget:


<HomeScreen>
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (0.95, 0.95, 0.95, 1.0)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            orientation: 'vertical'
            size_hint: (1, .8)

            SelfFormattingText:
                text: 'Matrix Size:'
                font_size: '20sp'

            BoxLayout:
                orientation: 'horizontal'

                Widget:
                    size_hint: (.25, 1)

                MatrixSizeTextInput:
                    id: matrix_size_text_input
                    hint_text: 'Enter Size (1-20)'

                Widget:
                    size_hint: (.25, 1)

            BoxLayout:
                orientation: 'horizontal'

                Widget:
                    size_hint: (.25, 1)

                Button:
                    text: 'Enter'
                    on_press:
                        app.build_matrix_entry_box()

                Widget:
                    size_hint: (.25, 1)

            SelfFormattingText:
                text: 'Or:'
                font_size: '20sp'

            BoxLayout:
                orientation: 'horizontal'

                Widget:
                    size_hint: (.25, 1)

                Button:
                    text: 'Load Matrix'
                    on_press:
                        app.root.current = 'LoadMatrixScreen'

                Widget:
                    size_hint: (.25, 1)
        BoxLayout:
            size_hint: (1, .1)

<EnterMatrixScreen>
    ScreenBoxLayout:

        BoxLayout:
            orientation: 'vertical'

            SelfFormattingText:
                size_hint: (1, 0.125)
                text: 'Enter Matrix (empty treated as 0):'
                font_size: '20sp'

            BoxLayout:
                size_hint: (1, 0.75)
                Widget:
                    size_hint: (.25, 1)

                BoxLayout:
                    orientation: 'vertical'
                    id: matrix_entry_box

                Widget:
                    size_hint: (.25, 1)

            BoxLayout:
                orientation: 'vertical'
                size_hint: (1, 0.125)

                BoxLayout:
                    size_hint: (1, 0.5)

                    Widget:
                        size_hint: (.25, 1)

                    Button:
                        text: 'Next'
                        on_press:
                            app.stack_entered_matrix()
                            app.root.current = 'MatrixEditorScreen'

                    Widget:
                        size_hint: (.25, 1)

                Widget:
                    size_hint: (1, 0.5)

<MatrixEditorScreen>
    ScreenBoxLayout:
        BoxLayout:
            orientation: 'vertical'
            size_hint: (1, 0.25)
            BoxLayout:
                orientation: 'vertical'

                BoxLayout:

                    Button:
                        text: 'Undo'
                        on_press:
                            app.undo_operation()

                    Button:
                        text: 'Save Matrix'
                        on_press:
                            app.root.current = 'SaveMatrixScreen'

                BoxLayout:

                    Button:
                        text: 'Make Irreflexive'
                        on_press:
                            app.make_irreflexive()

                    Button:
                        text: 'Make Anti-Symmetric'
                        on_press:
                            app.make_anti_symmetric()

                    Button:
                        text: 'Make Asymmetric'
                        on_press:
                            app.make_asymmetric()

                BoxLayout:

                    Button:
                        text: 'Make Reflexive'
                        on_press:
                            app.make_reflexive()

                    Button:
                        text: 'Make Symmetric'
                        on_press:
                            app.make_symmetric()

                    Button:
                        text: 'Make Transitive'
                        on_press:
                            app.make_transitive()

                    Button:
                        text: 'Make Equivalent'
                        on_press:
                            app.make_equivalent()
        BoxLayout:
            orientation: 'vertical'
            id: matrix_editor_display_box
            size_hint: (1, 0.75)

<SaveMatrixScreen>
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: (0.95, 0.95, 0.95, 1.0)
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            size_hint: (1, 0.1)
            orientation: 'horizontal'
            Button:
                size_hint: (0.125, 1)
                text: 'Cancel'
                on_press: app.root.current = 'MatrixEditorScreen'
            Widget:
                size_hint: (0.875, 1)

        BoxLayout:
            orientation: 'vertical'

            SelfFormattingText:
                text: 'Save Matrix'
                font_size: '25sp'

            SelfFormattingText:
                text: 'Matrix Name'
                font_size: '20sp'

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                TextInput:
                    id: save_matrix_name_text_input
                    hint_text: 'Type Here'

                Widget:
                    size_hint: (.25, 1)

            BoxLayout:

                Widget:
                    size_hint: (.25, 1)

                Button:
                    text: 'Save Matrix'
                    on_press:
                        app.root.current = 'MatrixEditorScreen'

                Widget:
                    size_hint: (.25, 1)

            Widget: